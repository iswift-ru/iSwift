# –î–µ–ª–∞–µ–º –±–ª–æ–∫–Ω–æ—Ç —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ –Ω–∞ Flutter –∏ Firebase (—á–∞—Å—Ç—å 2)
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å –æ–±—Ä–∞—Ç–∏–º—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è –∏ Hero –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
![Implements a plain-text editor with reversible actions & Hero transitions](https://iswift.ru/images/1_gVY7JU07MLstpEzGwgYDFA.jpeg)

–†–∞–¥ –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ —Å—Ç–∞—Ç—å–∏ ***–î–µ–ª–∞–µ–º –±–ª–æ–∫–Ω–æ—Ç —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ –Ω–∞ Flutter –∏ Firebase***. –ï—Å–ª–∏ –≤—ã –Ω–µ —á–∏—Ç–∞–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç–∞—Ç—å—é, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –µ—ë [–∑–¥–µ—Å—å](https://iswift.ru/articles/ru/build-a-note-taking-app-with-flutter-firebase-part-1-ru).

–í [—á–∞—Å—Ç–∏ 1](build-a-note-taking-app-with-flutter-firebase-part-1.md), –º—ã —Å–¥–µ–ª–∞–ª–∏ –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, **Flutter Keep**. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—Ä–∞—Ç–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤–æ–ª—à–µ–±–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é [Hero](https://flutter.dev/docs/development/ui/animations/hero-animations). 


## –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫
–í [Google Keep](https://www.google.com/keep), –º–Ω–æ–≥–æ —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–µ–π, –≤–∫–ª—é—á–∞—è –æ–±—ã—á–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏, –∞—É–¥–∏–æ –∑–∞–º–µ—Ç–∫–∏, —á–µ–∫–ª–∏—Å—Ç—ã —Å –æ–ø—Ü–∏–µ–π –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏. –û–¥–Ω–∞–∫–æ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å—Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –æ–±—ã—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∑–∞–º–µ—Ç–æ–∫, —ç—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ.

–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –∞–Ω–æ–Ω—Å —Ç–æ–≥–æ —á—Ç–æ –º—ã –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å:
![Note editor preview](https://iswift.ru/images/1_MGIa1fUmmPk2K87fMC9DmA.jpeg)
Note editor preview

–ü–æ —Å—É—Ç–∏ –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ –æ–¥–Ω–æ–º —Ç–∞–π—Ç–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç. –ü–ª—é—Å, –≤ –≤–µ—Ä—Ö—É ```AppBar``` –∏  ```ModalBottomSheet``` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–±–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª–∏–±–æ —Ü–≤–µ—Ç–∞ –∑–∞–ø–∏—Å–∏.
–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω—ë–º —Å ```StatefulWidget```:

<script src="https://gist.github.com/xinthink/55c8d5ee739d729e4556ba78e53af4fc.js"></script>
note_editor.dart

–í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–ø–∏—é –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–º–µ—Ç–∫–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, –ø—É—Å—Ç—É—é), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω –ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä.
–ò –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ ```HomeScreen```:

<script src="https://gist.github.com/xinthink/16e0fc34f115ac91b2fad5b685a5444e.js"></script>
home_screen.dart

Ok, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–µ–ª–∞—Ç—å –≤–∏–¥–∂–µ—Ç:
<script src="https://gist.github.com/xinthink/ea6cab070973d44c2c1bafebaf21b231.js"></script>
editor_state.dart


–ú—ã –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–∫—Ä–æ–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä, –¥–ª—è —ç—Ç–æ–≥–æ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ```WillPopScope``` –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏—Ç ```onWillPop``` –æ–±—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ –ø–µ—Ä–µ–¥ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ —ç–∫—Ä–∞–Ω–∞.

<script src="https://gist.github.com/xinthink/4031a6c058ef49055aa0640852703664.js"></script>
NoteEditor#onWillPop

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º ```ChangeNotifierProvider``` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç ```Note``` –æ–±—ä–µ–∫—Ç, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫ –≤–∏–¥–∂–µ—Ç–∞–º –ø–æ—Ç–æ–º–∫–∞, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–º–∏ —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –î–ª—è –ø—Ä–∏–º–µ—Ä–∞, —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç –∑–∞–¥–Ω–µ–≥–æ —Ñ–æ–Ω–∞, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –¥—Ä—É–≥–æ–π —Ü–≤–µ—Ç –≤ –≤–∏–¥–∂–µ—Ç–µ  ```ColorPicker```.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ```ChangeNotifierProvider```,  Note –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å extend ```ChangeNotifier```, –∏ ```notifyListeners``` –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –µ–≥–æ —Å—Ç–∞—Ç—É—Å –ø–æ–º–µ–Ω—è–µ—Ç—Å—è:

<script src="https://gist.github.com/xinthink/273c2e989febb8d7cb6cbc649b409a44.js"></script>
note.dart

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.
–î–µ–π—Å—Ç–≤–∏—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ –∏ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã –æ—Ä–∞–≥–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –ª–∏—Å—Ç–∞.
–û–¥–Ω–æ –º–æ–∂–µ—Ç —Å–±–∏—Ç—å —Å —Ç–æ–ª–∫—É  —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã  ```showModalBottomSheet```, –ú—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç –∑–∞–º–µ—Ç–∫–∏ —Å–Ω–æ–≤–∞, –∏–ª–∏ –¥–æ—á–µ—Ä–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã (–Ω–∏–∂–Ω–µ–≥–æ –ª–∏—Å—Ç–∞) –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ ```Consumer``` –∏–ª–∏ ```Provider.of.```(–≠—Ç–æ –¥—Ä—É–≥–æ–µ –¥–µ—Ä–µ–≤–æ –≤–∏–¥–∂–µ—Ç–∞ –∏–∑ —Ç–µ–ª–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞)

<script src="https://gist.github.com/xinthink/452e4fdbab98f7e7a035dd4325bc7ac7.js"></script>
NoteEditor#showModalBottomSheet

–ü–æ–Ω—è—Ç—å –∫–∞–∫ ```ChangeNotifierProvider``` —Ä–∞–±–æ—Ç–∞–µ—Ç, –º—ã –≤—ã–±–∏—Ä–µ–º —Ü–≤–µ—Ç, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä–µ.
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç ```LinearColorPicker```? –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ—Ç—Ç–µ–Ω–∫–æ–≤ –¥–ª—è –∑–∞–º–µ—Ç–∫–∏:

<script src="https://gist.github.com/xinthink/19d042dd248f868df4bc7d576684a6e6.js"></script>
color_picker.dart


–ö–æ–≥–¥–∞ –æ–¥–∏–Ω –∏–∑ –æ—Ç—Ç–µ–Ω–∫–æ–≤ –≤—ã–±—Ä–∞–Ω, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–æ  ```color``` –≤ –∑–∞–º–µ—Ç–∫–µ –≤–æ—Ç –∏ –≤—Å—ë.
–†–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç –ø—Ä–µ–¥–∫–∞ ( ```ColorPicker```), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ –∑–∞–º–µ—Ç–∫–æ–π, –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç–∫—Ä–∞–Ω, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –≤–∏–¥–µ—Ç—å –≤–µ—Å—å —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤—ã–±–∏—Ä–∞–µ–º.

[Editor state synchronization](https://iswift.ru/images/1_lxF2s-WTKFumm_LjPzrwdQ.gif)
Editor state synchronization

–î—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ —É–¥–∞–ª–µ–Ω–∏–µ –∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ –º–µ—Ö–∞–∞–Ω–∏–∑–º.

## –û–±—Ä–∞—Ç–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É, –æ–±–Ω–æ–≤–∏–≤ —Å–≤–æ–π—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–æ –∫–∞–∫ –Ω–∞—Å—á—ë—Ç UX? –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–¥–∞–ª–∏–ª–∏ –∑–∞–º–µ—Ç–∫—É —Å–ª—É—á–∞–π–Ω–æ?

–î–ª—è –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–∞–∫–∏—Ö –∫–∞–∫ —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏—è, ```SnackBar``` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, —Ç.–µ. –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∞—Ü–∏—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–µ.


[](https://iswift.ru/images/1_jSq4WiKVETUOcmoDWipdzg.gif)

–î–ª—è –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º—ã –±—É–¥–µ–º –ø—Ä–∏–º–µ–Ω—è—Ç—å [Command Pattern](https://en.wikipedia.org/wiki/Command_pattern).

–í–æ –ø–µ—Ä–≤—ã—Ö –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–æ–º–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∫ –∑–∞–º–µ—Ç–∫–µ.

<script src="https://gist.github.com/xinthink/273367c3be45f2e06f0617a2f5325e68.js"></script>
note_command.dart

–î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è, —Å—á–∏—Ç–∞—é—â–∏–µ—Å—è –æ–±—Ä–∞—Ç–∏–º—ã–º–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏. –¢–∞–∫ —á—Ç–æ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –û–¥–Ω–∞–∫–æ –Ω–∏—á—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏.

<script src="https://gist.github.com/xinthink/bfb348de0e95da409d4622d9f0cd5c18.js"></script>
note_state_command.dart

–î–∞–ª—å—à–µ, –º—ã —Å–æ–∑–¥–∞–¥–∏–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—ã, –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞:

<script src="https://gist.github.com/xinthink/5a292f5d1048bfd8577b2c41b861f51f.js"></script>
Using commands

Done, we‚Äôve made the dangerous operations reversible! –¢–µ–ø–µ—Ä—å –º—ã —Å–¥–µ–ª–∞–ª–∏ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏–º—ã–º–∏.

## Hero –ø–µ—Ä–µ—Ö–æ–¥
–°–µ–π—á–∞—Å –º—ã –∏–º–µ–µ–º —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É, –¥–æ–±–∞–≤–∏–º –∫—Ä–∞—Å–∏–≤—ã–π –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É ```HomeScreen``` –∏ ```NoteEditor```. 

[](https://iswift.ru/images/1_DsydtXamxtPWtUva2NNvag.gif)

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –∑–∞–º–µ—Ç–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞, –æ—Ç–∫—É–¥–∞ –æ–Ω —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Å–µ—Ç–∫–µ. –í Flutter, —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Hero Animation.

–ü—Ä–æ—Å—Ç –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏. –í–æ –ø–µ—Ä–≤—ã—Ö, –º—ã –æ–±–µ—Ä–Ω—ë–º —ç–ª–µ–º–µ–Ω—Ç –∑–∞–º–µ—Ç–∫–∏ –≤ —Å–µ—Ç–∫—É –∏–ª–∏ –ª–∏—Å—Ç –≤–∏–¥–∂–µ—Ç–æ–º ```Hero```:


<script src="https://gist.github.com/xinthink/4c823df06de3a325ccf2d0d09fa71b7c.js"></script>
Hero note item

–ó–∞—Ç–µ–º –æ–±–µ—Ä–Ω—ë–º –≤–∏–¥–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:
<script src="https://gist.github.com/xinthink/50837a0b043d6f884979078f067d5dfa.js"></script>
Hero note editor

–í –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö –¥–≤–∞ —Ç–µ–≥–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç–∞–º ```Hero```, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏.
–ò ```DefaultTextStyle```–≤–∏–¥–∂–µ—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–æ–ª—å—à–æ–≥–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —ç–∫—Ä–∞–Ω–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ iOS.

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –≤ –ø–æ–∫–æ–µ Flutter —Ñ—Ä–µ–π–º–≤–æ—Ä–∫.

–ß—Ç–æ –ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —ç–∫—Ä–∞–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. You could make a custom transition as you need, but it is beyond the scope of this article. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–æ —ç—Ç–æ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–π–¥–∏—Ç–µ —Å—é–¥–∞ [cookbook](https://flutter.dev/docs/cookbook/animation/page-route-animation).

## –®–∞–≥–∏
–í –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º—ã –Ω–µ –±–µ—Å–ø–æ–∫–æ–∏–ª–∏—Å—å –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–∫–æ–π –∫–∞–∫ [BLOC](https://bloclibrary.dev/). –ù–æ –µ—Å—Ç—å –µ—â–µ —Å–ø–æ—Å–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ —á–∏—Å—Ç—ã–º –∏ –∏–∑–±–µ–∂–∞—Ç—å —à–∞–±–ª–æ–Ω–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—Ä–∞—Ç–∏–º—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º [mixin](https://dart.dev/guides/language/language-tour#adding-features-to-a-class-mixins), —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —á–∏—â–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É UI –∏ –ª–æ–≥–∏–∫–æ–π, –∞ —Ç–∞–∫–∂–µ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º.

<script src="https://gist.github.com/xinthink/55d100dbcce13b11a025701218b3caf6.js"></script>
command_handler.dart

–ö–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥, –ø—Ä–æ—Å—Ç–æ —Å–º–µ—à–∏–≤–∞–π—Ç–µ –∏—Ö –≤:

<script src="https://gist.github.com/xinthink/50d2e408173bd08c6fe3c0d5c1dc72ba.js"></script>
Mixin CommandHandler

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–∞—á–∏–Ω–∞—è —Å Dart SDK ```2.7.0``` –∏–ª–∏ –ø–æ–∑–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã](https://dart.dev/guides/language/extension-methods) –¥–µ–ª–∞—è –º–∞–≥–∏—á–µ—Å–∫–∏–µ –≤–µ—â–∏.

–ú—ã –º–æ–∂–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç—å –º–æ–¥–µ–ª—å ```Node``` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ FireStore

<script src="https://gist.github.com/xinthink/e8f2a9fc6671bc6e139fa34d76aa2db7.js"></script>
note_store.dart

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ —Ç–∞–∫ –∂–µ –ø—Ä–æ—Å—Ç—ã–º, –∫–∞–∫ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞:
<script src="https://gist.github.com/xinthink/f3d3176563b11cbfc5d8c9965acfe64b.js"></script>
Using note extensions

–ú—ã –¥–∞–∂–µ –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º—ã—Ö —Ç–∏–ø–æ–≤:

<script src="https://gist.github.com/xinthink/1f98ec3bca2fe7e8af8c161ffd9ad827.js"></script>
Extensions on an enum

–≠—Ç–æ —Å–ø–∞—Å–∞–µ—Ç –Ω–∞—Å –æ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∫–æ–¥–∞!

–ó–∞–≤–µ—Ä—à–∞—è –µ–≥–æ, –º—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ —Ä–∞–±–æ—á–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –≤ —ç—Ç–æ–π —á–∞—Å—Ç–∏. –ú—ã –¥–∞–∂–µ –¥–æ–±–∞–≤–∏–ª–∏ —Ç–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ –æ–±—Ä–∞—Ç–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ Hero –ø–µ—Ä–µ—Ö–æ–¥—ã. –ù–∞–π—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–¥ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤ [GitHub repo](https://github.com/xinthink/flutter-keep).

–í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ —è —Ö–æ—Ç–µ–ª –±—ã —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Ç–æ–º, –∫–∞–∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–º–µ—Ç–æ–∫ –∏–∑ FireStore, –∞ —Ç–∞–∫–∂–µ –æ –≤—ã–ø—É—Å–∫–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤.

–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —á–∏—Ç–∞–ª–∏! üôå

